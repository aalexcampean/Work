{"ast":null,"code":"import { Subject, fromEvent } from 'rxjs';\nimport * as i2 from '@angular/cdk/portal';\nimport { CdkPortalOutlet, ComponentPortal, TemplatePortal, PortalModule } from '@angular/cdk/portal';\nimport * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, ViewChild, HostBinding, TemplateRef, Injector, Injectable, NgModule } from '@angular/core';\nimport { filter, takeUntil, take } from 'rxjs/operators';\nimport { DOCUMENT } from '@angular/common';\nimport * as i1 from '@angular/cdk/a11y';\nimport * as i1$1 from '@angular/cdk/overlay';\nimport { OverlayConfig, OverlayModule } from '@angular/cdk/overlay';\n/* eslint-disable @typescript-eslint/no-inferrable-types */\n\nconst _c0 = [\"dialog\"];\n\nfunction MdbModalContainerComponent_ng_template_3_Template(rf, ctx) {}\n\nclass MdbModalConfig {\n  constructor() {\n    this.animation = true;\n    this.backdrop = true;\n    this.ignoreBackdropClick = false;\n    this.keyboard = true;\n    this.modalClass = '';\n    this.containerClass = '';\n    this.data = null;\n  }\n\n}\n\nclass MdbModalRef {\n  constructor(_overlayRef, _container) {\n    this._overlayRef = _overlayRef;\n    this._container = _container;\n    this.onClose$ = new Subject();\n    this.onClose = this.onClose$.asObservable();\n  }\n\n  close(message) {\n    this._container._close();\n\n    setTimeout(() => {\n      this._container._restoreScrollbar();\n\n      this.onClose$.next(message);\n      this.onClose$.complete();\n\n      this._overlayRef.detach();\n\n      this._overlayRef.dispose();\n    }, this._container.MODAL_TRANSITION);\n  }\n\n}\n\nclass MdbModalContainerComponent {\n  constructor(_document, _elementRef, _renderer, _focusTrapFactory) {\n    this._document = _document;\n    this._elementRef = _elementRef;\n    this._renderer = _renderer;\n    this._focusTrapFactory = _focusTrapFactory;\n    this._destroy$ = new Subject();\n    this.backdropClick$ = new Subject();\n    this.BACKDROP_TRANSITION = 150;\n    this.MODAL_TRANSITION = 200;\n    this.modal = true;\n  }\n\n  get hasAnimation() {\n    return this._config.animation;\n  }\n\n  ngOnInit() {\n    this._updateContainerClass();\n\n    this._renderer.addClass(this._document.body, 'modal-open');\n\n    this._renderer.setStyle(this._document.body, 'padding-right', '15px');\n\n    this._renderer.setStyle(this._elementRef.nativeElement, 'display', 'block');\n\n    this._previouslyFocusedElement = this._document.activeElement;\n    this._focusTrap = this._focusTrapFactory.create(this._elementRef.nativeElement);\n\n    if (this._config.animation) {\n      setTimeout(() => {\n        this._renderer.addClass(this._elementRef.nativeElement, 'show');\n\n        setTimeout(() => {\n          this._focusTrap.focusInitialElementWhenReady();\n        }, this.MODAL_TRANSITION);\n      }, this.BACKDROP_TRANSITION);\n    } else {\n      this._focusTrap.focusInitialElementWhenReady();\n    }\n  }\n\n  ngAfterViewInit() {\n    if (!this._config.ignoreBackdropClick) {\n      fromEvent(this._elementRef.nativeElement, 'mousedown').pipe(filter(event => {\n        const target = event.target;\n        const dialog = this.modalDialog.nativeElement;\n        const notDialog = target !== dialog;\n        const notDialogContent = !dialog.contains(target);\n        return notDialog && notDialogContent;\n      }), takeUntil(this._destroy$)).subscribe(event => {\n        this.backdropClick$.next(event);\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    this._previouslyFocusedElement.focus();\n\n    this._focusTrap.destroy();\n\n    this._destroy$.next();\n\n    this._destroy$.complete();\n  }\n\n  _updateContainerClass() {\n    if (this._config.containerClass === '' || this._config.containerClass.length && this._config.containerClass.length === 0) {\n      return;\n    }\n\n    const containerClasses = this._config.containerClass.split(' ');\n\n    containerClasses.forEach(containerClass => {\n      this._renderer.addClass(this._elementRef.nativeElement, containerClass);\n    });\n  }\n\n  _close() {\n    if (this._config.animation) {\n      this._renderer.removeClass(this._elementRef.nativeElement, 'show');\n    } // Pause iframe/video when closing modal\n\n\n    const iframeElements = Array.from(this._elementRef.nativeElement.querySelectorAll('iframe'));\n    const videoElements = Array.from(this._elementRef.nativeElement.querySelectorAll('video'));\n    iframeElements.forEach(iframe => {\n      const srcAttribute = iframe.getAttribute('src');\n\n      this._renderer.setAttribute(iframe, 'src', srcAttribute);\n    });\n    videoElements.forEach(video => {\n      video.pause();\n    });\n  }\n\n  _restoreScrollbar() {\n    this._renderer.removeClass(this._document.body, 'modal-open');\n\n    this._renderer.removeStyle(this._document.body, 'padding-right');\n  }\n\n  attachComponentPortal(portal) {\n    return this._portalOutlet.attachComponentPortal(portal);\n  }\n\n  attachTemplatePortal(portal) {\n    return this._portalOutlet.attachTemplatePortal(portal);\n  }\n\n}\n\nMdbModalContainerComponent.ɵfac = function MdbModalContainerComponent_Factory(t) {\n  return new (t || MdbModalContainerComponent)(i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i1.ConfigurableFocusTrapFactory));\n};\n\nMdbModalContainerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: MdbModalContainerComponent,\n  selectors: [[\"mdb-modal-container\"]],\n  viewQuery: function MdbModalContainerComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(CdkPortalOutlet, 7);\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx._portalOutlet = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modalDialog = _t.first);\n    }\n  },\n  hostVars: 4,\n  hostBindings: function MdbModalContainerComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      i0.ɵɵclassProp(\"modal\", ctx.modal)(\"fade\", ctx.hasAnimation);\n    }\n  },\n  decls: 4,\n  vars: 2,\n  consts: [[\"dialog\", \"\"], [1, \"modal-content\"], [\"cdkPortalOutlet\", \"\"]],\n  template: function MdbModalContainerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", null, 0)(2, \"div\", 1);\n      i0.ɵɵtemplate(3, MdbModalContainerComponent_ng_template_3_Template, 0, 0, \"ng-template\", 2);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵclassMap(\"modal-dialog\" + (ctx._config.modalClass ? \" \" + ctx._config.modalClass : \"\"));\n    }\n  },\n  directives: [i2.CdkPortalOutlet],\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MdbModalContainerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mdb-modal-container',\n      changeDetection: ChangeDetectionStrategy.Default,\n      template: \"<div #dialog [class]=\\\"'modal-dialog' + (_config.modalClass ? ' ' + _config.modalClass : '')\\\">\\n  <div class=\\\"modal-content\\\">\\n    <ng-template cdkPortalOutlet></ng-template>\\n  </div>\\n</div>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: i0.Renderer2\n    }, {\n      type: i1.ConfigurableFocusTrapFactory\n    }];\n  }, {\n    _portalOutlet: [{\n      type: ViewChild,\n      args: [CdkPortalOutlet, {\n        static: true\n      }]\n    }],\n    modalDialog: [{\n      type: ViewChild,\n      args: ['dialog', {\n        static: true\n      }]\n    }],\n    modal: [{\n      type: HostBinding,\n      args: ['class.modal']\n    }],\n    hasAnimation: [{\n      type: HostBinding,\n      args: ['class.fade']\n    }]\n  });\n})();\n\nclass MdbModalService {\n  constructor(_document, _overlay, _injector, _cfr) {\n    this._document = _document;\n    this._overlay = _overlay;\n    this._injector = _injector;\n    this._cfr = _cfr;\n  }\n\n  open(componentOrTemplateRef, config) {\n    const defaultConfig = new MdbModalConfig();\n    config = config ? Object.assign(defaultConfig, config) : defaultConfig;\n\n    const overlayRef = this._createOverlay(config);\n\n    const container = this._createContainer(overlayRef, config);\n\n    const modalRef = this._createContent(componentOrTemplateRef, container, overlayRef, config);\n\n    this._registerListeners(modalRef, config, container);\n\n    return modalRef;\n  }\n\n  _createOverlay(config) {\n    const overlayConfig = this._getOverlayConfig(config);\n\n    return this._overlay.create(overlayConfig);\n  }\n\n  _getOverlayConfig(modalConfig) {\n    const config = new OverlayConfig({\n      positionStrategy: this._overlay.position().global(),\n      scrollStrategy: this._overlay.scrollStrategies.noop(),\n      hasBackdrop: modalConfig.backdrop,\n      backdropClass: 'mdb-backdrop'\n    });\n    return config;\n  }\n\n  _createContainer(overlayRef, config) {\n    const portal = new ComponentPortal(MdbModalContainerComponent, null, this._injector, this._cfr);\n    const containerRef = overlayRef.attach(portal);\n    containerRef.instance._config = config;\n    return containerRef.instance;\n  }\n\n  _createContent(componentOrTemplate, container, overlayRef, config) {\n    const modalRef = new MdbModalRef(overlayRef, container);\n\n    if (componentOrTemplate instanceof TemplateRef) {\n      container.attachTemplatePortal(new TemplatePortal(componentOrTemplate, null, {\n        $implicit: config.data,\n        modalRef\n      }));\n    } else {\n      const injector = this._createInjector(config, modalRef, container);\n\n      const contentRef = container.attachComponentPortal(new ComponentPortal(componentOrTemplate, config.viewContainerRef, injector));\n\n      if (config.data) {\n        Object.assign(contentRef.instance, Object.assign({}, config.data));\n      }\n    }\n\n    return modalRef;\n  }\n\n  _createInjector(config, modalRef, container) {\n    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector; // The dialog container should be provided as the dialog container and the dialog's\n    // content are created out of the same `ViewContainerRef` and as such, are siblings\n    // for injector purposes. To allow the hierarchy that is expected, the dialog\n    // container is explicitly provided in the injector.\n\n    const providers = [{\n      provide: MdbModalContainerComponent,\n      useValue: container\n    }, {\n      provide: MdbModalRef,\n      useValue: modalRef\n    }];\n    return Injector.create({\n      parent: userInjector || this._injector,\n      providers\n    });\n  }\n\n  _registerListeners(modalRef, config, container) {\n    container.backdropClick$.pipe(take(1)).subscribe(() => {\n      modalRef.close();\n    });\n\n    if (config.keyboard) {\n      fromEvent(container._elementRef.nativeElement, 'keydown').pipe(filter(event => {\n        return event.key === 'Escape';\n      }), take(1)).subscribe(() => {\n        modalRef.close();\n      });\n    }\n  }\n\n}\n\nMdbModalService.ɵfac = function MdbModalService_Factory(t) {\n  return new (t || MdbModalService)(i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(i1$1.Overlay), i0.ɵɵinject(i0.Injector), i0.ɵɵinject(i0.ComponentFactoryResolver));\n};\n\nMdbModalService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: MdbModalService,\n  factory: MdbModalService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MdbModalService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: i1$1.Overlay\n    }, {\n      type: i0.Injector\n    }, {\n      type: i0.ComponentFactoryResolver\n    }];\n  }, null);\n})();\n\nclass MdbModalModule {}\n\nMdbModalModule.ɵfac = function MdbModalModule_Factory(t) {\n  return new (t || MdbModalModule)();\n};\n\nMdbModalModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: MdbModalModule\n});\nMdbModalModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [MdbModalService],\n  imports: [[OverlayModule, PortalModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MdbModalModule, [{\n    type: NgModule,\n    args: [{\n      imports: [OverlayModule, PortalModule],\n      exports: [MdbModalContainerComponent],\n      declarations: [MdbModalContainerComponent],\n      providers: [MdbModalService]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { MdbModalConfig, MdbModalContainerComponent, MdbModalModule, MdbModalRef, MdbModalService };","map":{"version":3,"sources":["/Users/alexcampean/Documents/university/sem_4/WEB/examTemplates/dotNetTemplate/dotNetTemplateClient/node_modules/mdb-angular-ui-kit/fesm2015/mdb-angular-ui-kit-modal.mjs"],"names":["Subject","fromEvent","i2","CdkPortalOutlet","ComponentPortal","TemplatePortal","PortalModule","i0","Component","ChangeDetectionStrategy","Inject","ViewChild","HostBinding","TemplateRef","Injector","Injectable","NgModule","filter","takeUntil","take","DOCUMENT","i1","i1$1","OverlayConfig","OverlayModule","MdbModalConfig","constructor","animation","backdrop","ignoreBackdropClick","keyboard","modalClass","containerClass","data","MdbModalRef","_overlayRef","_container","onClose$","onClose","asObservable","close","message","_close","setTimeout","_restoreScrollbar","next","complete","detach","dispose","MODAL_TRANSITION","MdbModalContainerComponent","_document","_elementRef","_renderer","_focusTrapFactory","_destroy$","backdropClick$","BACKDROP_TRANSITION","modal","hasAnimation","_config","ngOnInit","_updateContainerClass","addClass","body","setStyle","nativeElement","_previouslyFocusedElement","activeElement","_focusTrap","create","focusInitialElementWhenReady","ngAfterViewInit","pipe","event","target","dialog","modalDialog","notDialog","notDialogContent","contains","subscribe","ngOnDestroy","focus","destroy","length","containerClasses","split","forEach","removeClass","iframeElements","Array","from","querySelectorAll","videoElements","iframe","srcAttribute","getAttribute","setAttribute","video","pause","removeStyle","attachComponentPortal","portal","_portalOutlet","attachTemplatePortal","ɵfac","ElementRef","Renderer2","ConfigurableFocusTrapFactory","ɵcmp","type","args","selector","changeDetection","Default","template","undefined","decorators","static","MdbModalService","_overlay","_injector","_cfr","open","componentOrTemplateRef","config","defaultConfig","Object","assign","overlayRef","_createOverlay","container","_createContainer","modalRef","_createContent","_registerListeners","overlayConfig","_getOverlayConfig","modalConfig","positionStrategy","position","global","scrollStrategy","scrollStrategies","noop","hasBackdrop","backdropClass","containerRef","attach","instance","componentOrTemplate","$implicit","injector","_createInjector","contentRef","viewContainerRef","userInjector","providers","provide","useValue","parent","key","Overlay","ComponentFactoryResolver","ɵprov","MdbModalModule","ɵmod","ɵinj","imports","exports","declarations"],"mappings":"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","sourcesContent":["import { Subject, fromEvent } from 'rxjs';\nimport * as i2 from '@angular/cdk/portal';\nimport { CdkPortalOutlet, ComponentPortal, TemplatePortal, PortalModule } from '@angular/cdk/portal';\nimport * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, ViewChild, HostBinding, TemplateRef, Injector, Injectable, NgModule } from '@angular/core';\nimport { filter, takeUntil, take } from 'rxjs/operators';\nimport { DOCUMENT } from '@angular/common';\nimport * as i1 from '@angular/cdk/a11y';\nimport * as i1$1 from '@angular/cdk/overlay';\nimport { OverlayConfig, OverlayModule } from '@angular/cdk/overlay';\n\n/* eslint-disable @typescript-eslint/no-inferrable-types */\nclass MdbModalConfig {\n    constructor() {\n        this.animation = true;\n        this.backdrop = true;\n        this.ignoreBackdropClick = false;\n        this.keyboard = true;\n        this.modalClass = '';\n        this.containerClass = '';\n        this.data = null;\n    }\n}\n\nclass MdbModalRef {\n    constructor(_overlayRef, _container) {\n        this._overlayRef = _overlayRef;\n        this._container = _container;\n        this.onClose$ = new Subject();\n        this.onClose = this.onClose$.asObservable();\n    }\n    close(message) {\n        this._container._close();\n        setTimeout(() => {\n            this._container._restoreScrollbar();\n            this.onClose$.next(message);\n            this.onClose$.complete();\n            this._overlayRef.detach();\n            this._overlayRef.dispose();\n        }, this._container.MODAL_TRANSITION);\n    }\n}\n\nclass MdbModalContainerComponent {\n    constructor(_document, _elementRef, _renderer, _focusTrapFactory) {\n        this._document = _document;\n        this._elementRef = _elementRef;\n        this._renderer = _renderer;\n        this._focusTrapFactory = _focusTrapFactory;\n        this._destroy$ = new Subject();\n        this.backdropClick$ = new Subject();\n        this.BACKDROP_TRANSITION = 150;\n        this.MODAL_TRANSITION = 200;\n        this.modal = true;\n    }\n    get hasAnimation() {\n        return this._config.animation;\n    }\n    ngOnInit() {\n        this._updateContainerClass();\n        this._renderer.addClass(this._document.body, 'modal-open');\n        this._renderer.setStyle(this._document.body, 'padding-right', '15px');\n        this._renderer.setStyle(this._elementRef.nativeElement, 'display', 'block');\n        this._previouslyFocusedElement = this._document.activeElement;\n        this._focusTrap = this._focusTrapFactory.create(this._elementRef.nativeElement);\n        if (this._config.animation) {\n            setTimeout(() => {\n                this._renderer.addClass(this._elementRef.nativeElement, 'show');\n                setTimeout(() => {\n                    this._focusTrap.focusInitialElementWhenReady();\n                }, this.MODAL_TRANSITION);\n            }, this.BACKDROP_TRANSITION);\n        }\n        else {\n            this._focusTrap.focusInitialElementWhenReady();\n        }\n    }\n    ngAfterViewInit() {\n        if (!this._config.ignoreBackdropClick) {\n            fromEvent(this._elementRef.nativeElement, 'mousedown')\n                .pipe(filter((event) => {\n                const target = event.target;\n                const dialog = this.modalDialog.nativeElement;\n                const notDialog = target !== dialog;\n                const notDialogContent = !dialog.contains(target);\n                return notDialog && notDialogContent;\n            }), takeUntil(this._destroy$))\n                .subscribe((event) => {\n                this.backdropClick$.next(event);\n            });\n        }\n    }\n    ngOnDestroy() {\n        this._previouslyFocusedElement.focus();\n        this._focusTrap.destroy();\n        this._destroy$.next();\n        this._destroy$.complete();\n    }\n    _updateContainerClass() {\n        if (this._config.containerClass === '' ||\n            (this._config.containerClass.length && this._config.containerClass.length === 0)) {\n            return;\n        }\n        const containerClasses = this._config.containerClass.split(' ');\n        containerClasses.forEach((containerClass) => {\n            this._renderer.addClass(this._elementRef.nativeElement, containerClass);\n        });\n    }\n    _close() {\n        if (this._config.animation) {\n            this._renderer.removeClass(this._elementRef.nativeElement, 'show');\n        }\n        // Pause iframe/video when closing modal\n        const iframeElements = Array.from(this._elementRef.nativeElement.querySelectorAll('iframe'));\n        const videoElements = Array.from(this._elementRef.nativeElement.querySelectorAll('video'));\n        iframeElements.forEach((iframe) => {\n            const srcAttribute = iframe.getAttribute('src');\n            this._renderer.setAttribute(iframe, 'src', srcAttribute);\n        });\n        videoElements.forEach((video) => {\n            video.pause();\n        });\n    }\n    _restoreScrollbar() {\n        this._renderer.removeClass(this._document.body, 'modal-open');\n        this._renderer.removeStyle(this._document.body, 'padding-right');\n    }\n    attachComponentPortal(portal) {\n        return this._portalOutlet.attachComponentPortal(portal);\n    }\n    attachTemplatePortal(portal) {\n        return this._portalOutlet.attachTemplatePortal(portal);\n    }\n}\nMdbModalContainerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.4\", ngImport: i0, type: MdbModalContainerComponent, deps: [{ token: DOCUMENT }, { token: i0.ElementRef }, { token: i0.Renderer2 }, { token: i1.ConfigurableFocusTrapFactory }], target: i0.ɵɵFactoryTarget.Component });\nMdbModalContainerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.2.4\", type: MdbModalContainerComponent, selector: \"mdb-modal-container\", host: { properties: { \"class.modal\": \"this.modal\", \"class.fade\": \"this.hasAnimation\" } }, viewQueries: [{ propertyName: \"_portalOutlet\", first: true, predicate: CdkPortalOutlet, descendants: true, static: true }, { propertyName: \"modalDialog\", first: true, predicate: [\"dialog\"], descendants: true, static: true }], ngImport: i0, template: \"<div #dialog [class]=\\\"'modal-dialog' + (_config.modalClass ? ' ' + _config.modalClass : '')\\\">\\n  <div class=\\\"modal-content\\\">\\n    <ng-template cdkPortalOutlet></ng-template>\\n  </div>\\n</div>\\n\", directives: [{ type: i2.CdkPortalOutlet, selector: \"[cdkPortalOutlet]\", inputs: [\"cdkPortalOutlet\"], outputs: [\"attached\"], exportAs: [\"cdkPortalOutlet\"] }], changeDetection: i0.ChangeDetectionStrategy.Default });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.4\", ngImport: i0, type: MdbModalContainerComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mdb-modal-container', changeDetection: ChangeDetectionStrategy.Default, template: \"<div #dialog [class]=\\\"'modal-dialog' + (_config.modalClass ? ' ' + _config.modalClass : '')\\\">\\n  <div class=\\\"modal-content\\\">\\n    <ng-template cdkPortalOutlet></ng-template>\\n  </div>\\n</div>\\n\" }]\n        }], ctorParameters: function () {\n        return [{ type: undefined, decorators: [{\n                        type: Inject,\n                        args: [DOCUMENT]\n                    }] }, { type: i0.ElementRef }, { type: i0.Renderer2 }, { type: i1.ConfigurableFocusTrapFactory }];\n    }, propDecorators: { _portalOutlet: [{\n                type: ViewChild,\n                args: [CdkPortalOutlet, { static: true }]\n            }], modalDialog: [{\n                type: ViewChild,\n                args: ['dialog', { static: true }]\n            }], modal: [{\n                type: HostBinding,\n                args: ['class.modal']\n            }], hasAnimation: [{\n                type: HostBinding,\n                args: ['class.fade']\n            }] } });\n\nclass MdbModalService {\n    constructor(_document, _overlay, _injector, _cfr) {\n        this._document = _document;\n        this._overlay = _overlay;\n        this._injector = _injector;\n        this._cfr = _cfr;\n    }\n    open(componentOrTemplateRef, config) {\n        const defaultConfig = new MdbModalConfig();\n        config = config ? Object.assign(defaultConfig, config) : defaultConfig;\n        const overlayRef = this._createOverlay(config);\n        const container = this._createContainer(overlayRef, config);\n        const modalRef = this._createContent(componentOrTemplateRef, container, overlayRef, config);\n        this._registerListeners(modalRef, config, container);\n        return modalRef;\n    }\n    _createOverlay(config) {\n        const overlayConfig = this._getOverlayConfig(config);\n        return this._overlay.create(overlayConfig);\n    }\n    _getOverlayConfig(modalConfig) {\n        const config = new OverlayConfig({\n            positionStrategy: this._overlay.position().global(),\n            scrollStrategy: this._overlay.scrollStrategies.noop(),\n            hasBackdrop: modalConfig.backdrop,\n            backdropClass: 'mdb-backdrop',\n        });\n        return config;\n    }\n    _createContainer(overlayRef, config) {\n        const portal = new ComponentPortal(MdbModalContainerComponent, null, this._injector, this._cfr);\n        const containerRef = overlayRef.attach(portal);\n        containerRef.instance._config = config;\n        return containerRef.instance;\n    }\n    _createContent(componentOrTemplate, container, overlayRef, config) {\n        const modalRef = new MdbModalRef(overlayRef, container);\n        if (componentOrTemplate instanceof TemplateRef) {\n            container.attachTemplatePortal(new TemplatePortal(componentOrTemplate, null, {\n                $implicit: config.data,\n                modalRef,\n            }));\n        }\n        else {\n            const injector = this._createInjector(config, modalRef, container);\n            const contentRef = container.attachComponentPortal(new ComponentPortal(componentOrTemplate, config.viewContainerRef, injector));\n            if (config.data) {\n                Object.assign(contentRef.instance, Object.assign({}, config.data));\n            }\n        }\n        return modalRef;\n    }\n    _createInjector(config, modalRef, container) {\n        const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\n        // The dialog container should be provided as the dialog container and the dialog's\n        // content are created out of the same `ViewContainerRef` and as such, are siblings\n        // for injector purposes. To allow the hierarchy that is expected, the dialog\n        // container is explicitly provided in the injector.\n        const providers = [\n            { provide: MdbModalContainerComponent, useValue: container },\n            { provide: MdbModalRef, useValue: modalRef },\n        ];\n        return Injector.create({ parent: userInjector || this._injector, providers });\n    }\n    _registerListeners(modalRef, config, container) {\n        container.backdropClick$.pipe(take(1)).subscribe(() => {\n            modalRef.close();\n        });\n        if (config.keyboard) {\n            fromEvent(container._elementRef.nativeElement, 'keydown')\n                .pipe(filter((event) => {\n                return event.key === 'Escape';\n            }), take(1))\n                .subscribe(() => {\n                modalRef.close();\n            });\n        }\n    }\n}\nMdbModalService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.4\", ngImport: i0, type: MdbModalService, deps: [{ token: DOCUMENT }, { token: i1$1.Overlay }, { token: i0.Injector }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.Injectable });\nMdbModalService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.4\", ngImport: i0, type: MdbModalService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.4\", ngImport: i0, type: MdbModalService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () {\n        return [{ type: undefined, decorators: [{\n                        type: Inject,\n                        args: [DOCUMENT]\n                    }] }, { type: i1$1.Overlay }, { type: i0.Injector }, { type: i0.ComponentFactoryResolver }];\n    } });\n\nclass MdbModalModule {\n}\nMdbModalModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.4\", ngImport: i0, type: MdbModalModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nMdbModalModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.2.4\", ngImport: i0, type: MdbModalModule, declarations: [MdbModalContainerComponent], imports: [OverlayModule, PortalModule], exports: [MdbModalContainerComponent] });\nMdbModalModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.2.4\", ngImport: i0, type: MdbModalModule, providers: [MdbModalService], imports: [[OverlayModule, PortalModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.4\", ngImport: i0, type: MdbModalModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [OverlayModule, PortalModule],\n                    exports: [MdbModalContainerComponent],\n                    declarations: [MdbModalContainerComponent],\n                    providers: [MdbModalService],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MdbModalConfig, MdbModalContainerComponent, MdbModalModule, MdbModalRef, MdbModalService };\n"]},"metadata":{},"sourceType":"module"}